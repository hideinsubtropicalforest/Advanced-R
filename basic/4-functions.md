## 4 - functions

install.packages("pryr")

1 - 函数组成部分

> - body(), 函数的内部代码
> - formals(), 调用函数的参数列表
> - environment(), 函数变量位置的“地图”
> -  原函数存于base包中，无法使用上述命令

2 - 词法作用域

* 全局变量和局部变量

3 - 每个运算都是一次函数调用

4 - 函数参数

> * 函数调用，指定参数位置、全名
> * 使用参数列表来调用
>   * do.call(fun, list)
> * 默认参数和缺失参数
>   * missing()来检查设置
> * 惰性求值
>   * 参数只有在被用到的时候才会求值
>   * force() 强制求值
> * …参数

5 - 特殊调用

> * 中缀函数
>   ○ '%fun%'<-
> * 替换函数
>   ○ 'xxx<-' <- function(x, value)

6 - 返回值

> - 最后一个被计算的表达式成为函数的返回值
> - 提前返回应显式使用return()函数
> - 修改形参不会改变实参的制
> - 通过on.exit()来触发其他事件